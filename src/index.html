<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Tool Test VR</title>
  <meta name="description" content="Tool Test VR">

  <script src="js/libs.js"></script>
  <!--<script type="application/javascript" src="https://rawgit.com/aframevr/aframe/master/dist/aframe-master.min.js"></script>-->

  <script src="js/main.js"></script>

  <!--<script src="js/aframe-gltf.min.js"></script>-->
  <script src="https://rawgit.com/ngokevin/kframe/master/dist/kframe.min.js"></script>
  <script
      src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
</head>

<body>
<!-- debug -->
<!-- pool="mixin: board; size: 10" // TODO for aframe 0.4.0 -->
<a-scene stats
         keyboard-shortcuts="enterVR: true; resetSensor: true"
>
  <!-- fog="type: linear; color: #CCC; near: 5; far: 20" -->

  <!-- Asset management system. -->
  <a-assets timeout="1000">
    <!-- Sounds -->
    <audio id="saw-running" src="assets/sound/saw_running.ogg"></audio>
    <audio id="saw-begin" src="assets/sound/saw_begin.ogg"></audio>
    <audio id="saw-end" src="assets/sound/saw_end.ogg"></audio>

    <!-- 3D Models -->
    <a-asset-item id="mainTable" src="assets/3d/mainTable/IKEA Tisch.dae"></a-asset-item>

    <!-- Textures -->
    <img id="sky" src="assets/img/360/tokio.jpg">
    <img id="wood-planks" src="assets/img/tex/re_planks.png">
    <!--<img id="wood-toon" src="assets/img/tex/wood_texture_by_dellot.jpg">-->

    <!-- Mixins -->
    <a-mixin id="tool-color-prime" material="color: green"></a-mixin>
    <a-mixin id="tool-color-second" material="color: dark-grey"></a-mixin>
  </a-assets>

  <!-- SCENE -->
  <a-entity id="user">
    <a-camera></a-camera>
    <a-entity teleport-controls hand-controls="left"></a-entity>
    <a-entity teleport-controls hand-controls="right"></a-entity>
  </a-entity>

  <!-- LIGHTS -->
  <a-entity light="type: ambient; color: #BBB"></a-entity>
  <a-entity light="type: directional; color: #FFF; intensity: 0.6; castShadow: true;" position="-0.5 1 1"></a-entity>

  <a-entity collada-model="#mainTable"
            position="0 0 -1"
            shadow="cast:true;"
            sound="src: #saw-running; autoplay: false; loop: true">
  </a-entity>

  <a-entity position="0 0 -3">
    <!--<a-sphere position="0 1.25 -1" radius="1.25" mixin="tool-color-prime"></a-sphere>-->
    <a-entity id="firstBox"
              geometry="primitive: box"
              cuttable
              cursor-listener
              position="-1 0.5 0.8" rotation="0 45 0"
              width="1"
              height="1" depth="1" color="#4CC3D9">
      <a-animation attribute="rotation"
                   dur="10000"
                   fill="forwards"
                   easing="linear"
                   from="0 0 0"
                   to="0 360 0"
                   repeat="indefinite"></a-animation>
    </a-entity>

    <!--<a-cylinder position="1 0.75 1" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>-->
    <a-plane rotation="-90 0 0"
             width="100"
             height="100"
             shadow="receive:true;"
             color="#EEE"
             material="src: #wood-planks; repeat: 100 100"></a-plane>
  </a-entity>
</a-scene>

</body>
</html>
